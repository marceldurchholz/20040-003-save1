/*! Socket.IO.js build:0.9.6, development. Copyright(c) 2011 LearnBoost <dev@learnboost.com> MIT Licensed */

/**
 * socket.io
 * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
 * MIT Licensed
 */

!function(t,e){var n=t;n.version="0.9.6",n.protocol=1,n.transports=[],n.j=[],n.sockets={},n.connect=function(t,o){var r,i,s=n.util.parseUri(t);e&&e.location&&(s.protocol=s.protocol||e.location.protocol.slice(0,-1),s.host=s.host||(e.document?e.document.domain:e.location.hostname),s.port=s.port||e.location.port),r=n.util.uniqueUri(s);var c={host:s.host,secure:"https"==s.protocol,port:s.port||("https"==s.protocol?443:80),query:s.query||""};return n.util.merge(c,o),(c["force new connection"]||!n.sockets[r])&&(i=new n.Socket(c)),!c["force new connection"]&&i&&(n.sockets[r]=i),i=i||n.sockets[r],i.of(s.path.length>1?s.path:"")}}("object"==typeof module?module.exports:this.io={},this),function(t,e){var n=t.util={},o=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];n.parseUri=function(t){for(var e=o.exec(t||""),n={},i=14;i--;)n[r[i]]=e[i]||"";return n},n.uniqueUri=function(t){var n=t.protocol,o=t.host,r=t.port;return"document"in e?(o=o||document.domain,r=r||("https"==n&&"https:"!==document.location.protocol?443:document.location.port)):(o=o||"localhost",!r&&"https"==n&&(r=443)),(n||"http")+"://"+o+":"+(r||80)},n.query=function(t,e){var o=n.chunkQuery(t||""),r=[];n.merge(o,n.chunkQuery(e||""));for(var i in o)o.hasOwnProperty(i)&&r.push(i+"="+o[i]);return r.length?"?"+r.join("&"):""},n.chunkQuery=function(t){for(var e,n={},o=t.split("&"),r=0,i=o.length;i>r;++r)e=o[r].split("="),e[0]&&(n[e[0]]=e[1]);return n};var i=!1;n.load=function(t){return"document"in e&&"complete"===document.readyState||i?t():void n.on(e,"load",t,!1)},n.on=function(t,e,n,o){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,o)},n.request=function(t){if(t&&"undefined"!=typeof XDomainRequest)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!t||n.ua.hasCORS))return new XMLHttpRequest;if(!t)try{return new(window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}return null},"undefined"!=typeof window&&n.load(function(){i=!0}),n.defer=function(t){return n.ua.webkit&&"undefined"==typeof importScripts?void n.load(function(){setTimeout(t,100)}):t()},n.merge=function(t,e,o,r){var i,s=r||[],c="undefined"==typeof o?2:o;for(i in e)e.hasOwnProperty(i)&&n.indexOf(s,i)<0&&("object"==typeof t[i]&&c?n.merge(t[i],e[i],c-1,s):(t[i]=e[i],s.push(e[i])));return t},n.mixin=function(t,e){n.merge(t.prototype,e.prototype)},n.inherit=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},n.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.intersect=function(t,e){for(var o=[],r=t.length>e.length?t:e,i=t.length>e.length?e:t,s=0,c=i.length;c>s;s++)~n.indexOf(r,i[s])&&o.push(i[s]);return o},n.indexOf=function(t,e,n){for(var o=t.length,n=0>n?0>n+o?0:n+o:n||0;o>n&&t[n]!==e;n++);return n>=o?-1:n},n.toArray=function(t){for(var e=[],n=0,o=t.length;o>n;n++)e.push(t[n]);return e},n.ua={},n.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var t=new XMLHttpRequest}catch(e){return!1}return void 0!=t.withCredentials}(),n.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent)}("undefined"!=typeof io?io:module.exports,this),function(t,e){function n(){}t.EventEmitter=n,n.prototype.on=function(t,n){return this.$events||(this.$events={}),this.$events[t]?e.util.isArray(this.$events[t])?this.$events[t].push(n):this.$events[t]=[this.$events[t],n]:this.$events[t]=n,this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(t,e){function n(){o.removeListener(t,n),e.apply(this,arguments)}var o=this;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,n){if(this.$events&&this.$events[t]){var o=this.$events[t];if(e.util.isArray(o)){for(var r=-1,i=0,s=o.length;s>i;i++)if(o[i]===n||o[i].listener&&o[i].listener===n){r=i;break}if(0>r)return this;o.splice(r,1),o.length||delete this.$events[t]}else(o===n||o.listener&&o.listener===n)&&delete this.$events[t]}return this},n.prototype.removeAllListeners=function(t){return this.$events&&this.$events[t]&&(this.$events[t]=null),this},n.prototype.listeners=function(t){return this.$events||(this.$events={}),this.$events[t]||(this.$events[t]=[]),e.util.isArray(this.$events[t])||(this.$events[t]=[this.$events[t]]),this.$events[t]},n.prototype.emit=function(t){if(!this.$events)return!1;var n=this.$events[t];if(!n)return!1;var o=Array.prototype.slice.call(arguments,1);if("function"==typeof n)n.apply(this,o);else{if(!e.util.isArray(n))return!1;for(var r=n.slice(),i=0,s=r.length;s>i;i++)r[i].apply(this,o)}return!0}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(exports,nativeJSON){function f(t){return 10>t?"0"+t:t}function date(t){return isFinite(t.valueOf())?t.getUTCFullYear()+"-"+f(t.getUTCMonth()+1)+"-"+f(t.getUTCDate())+"T"+f(t.getUTCHours())+":"+f(t.getUTCMinutes())+":"+f(t.getUTCSeconds())+"Z":null}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,o,r,i,s,c=gap,a=e[t];switch(a instanceof Date&&(a=date(t)),"function"==typeof rep&&(a=rep.call(e,t,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(a)){for(i=a.length,n=0;i>n;n+=1)s[n]=str(n,a)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+c+"]":"["+s.join(",")+"]",gap=c,r}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;i>n;n+=1)"string"==typeof rep[n]&&(o=rep[n],r=str(o,a),r&&s.push(quote(o)+(gap?": ":":")+r));else for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r=str(o,a),r&&s.push(quote(o)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+c+"}":"{"+s.join(",")+"}",gap=c,r}}if(nativeJSON&&nativeJSON.parse)return exports.JSON={parse:nativeJSON.parse,stringify:nativeJSON.stringify};var JSON=exports.JSON={},cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;JSON.stringify=function(t,e,n){var o;if(gap="",indent="","number"==typeof n)for(o=0;n>o;o+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,!e||"function"==typeof e||"object"==typeof e&&"number"==typeof e.length)return str("",{"":t});throw new Error("JSON.stringify")},JSON.parse=function(text,reviver){function walk(t,e){var n,o,r=t[e];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o=walk(r,n),void 0!==o?r[n]=o:delete r[n]);return reviver.call(t,e,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof JSON?JSON:void 0),function(t,e){var n=t.parser={},o=n.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],r=n.reasons=["transport not supported","client not handshaken","unauthorized"],i=n.advice=["reconnect"],s=e.JSON,c=e.util.indexOf;n.encodePacket=function(t){var e=c(o,t.type),n=t.id||"",a=t.endpoint||"",p=t.ack,u=null;switch(t.type){case"error":var d=t.reason?c(r,t.reason):"",f=t.advice?c(i,t.advice):"";(""!==d||""!==f)&&(u=d+(""!==f?"+"+f:""));break;case"message":""!==t.data&&(u=t.data);break;case"event":var h={name:t.name};t.args&&t.args.length&&(h.args=t.args),u=s.stringify(h);break;case"json":u=s.stringify(t.data);break;case"connect":t.qs&&(u=t.qs);break;case"ack":u=t.ackId+(t.args&&t.args.length?"+"+s.stringify(t.args):"")}var l=[e,n+("data"==p?"+":""),a];return null!==u&&void 0!==u&&l.push(u),l.join(":")},n.encodePayload=function(t){var e="";if(1==t.length)return t[0];for(var n=0,o=t.length;o>n;n++){var r=t[n];e+="�"+r.length+"�"+t[n]}return e};var a=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;n.decodePacket=function(t){var e=t.match(a);if(!e)return{};var n=e[2]||"",t=e[5]||"",c={type:o[e[1]],endpoint:e[4]||""};switch(n&&(c.id=n,c.ack=e[3]?"data":!0),c.type){case"error":var e=t.split("+");c.reason=r[e[0]]||"",c.advice=i[e[1]]||"";break;case"message":c.data=t||"";break;case"event":try{var p=s.parse(t);c.name=p.name,c.args=p.args}catch(u){}c.args=c.args||[];break;case"json":try{c.data=s.parse(t)}catch(u){}break;case"connect":c.qs=t||"";break;case"ack":var e=t.match(/^([0-9]+)(\+)?(.*)/);if(e&&(c.ackId=e[1],c.args=[],e[3]))try{c.args=e[3]?s.parse(e[3]):[]}catch(u){}break;case"disconnect":case"heartbeat":}return c},n.decodePayload=function(t){if("�"==t.charAt(0)){for(var e=[],o=1,r="";o<t.length;o++)"�"==t.charAt(o)?(e.push(n.decodePacket(t.substr(o+1).substr(0,r))),o+=Number(r)+1,r=""):r+=t.charAt(o);return e}return[n.decodePacket(t)]}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(t,e){function n(t,e){this.socket=t,this.sessid=e}t.Transport=n,e.util.mixin(n,e.EventEmitter),n.prototype.onData=function(t){if(this.clearCloseTimeout(),(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout(),""!==t){var n=e.parser.decodePayload(t);if(n&&n.length)for(var o=0,r=n.length;r>o;o++)this.onPacket(n[o])}return this},n.prototype.onPacket=function(t){return this.socket.setHeartbeatTimeout(),"heartbeat"==t.type?this.onHeartbeat():("connect"==t.type&&""==t.endpoint&&this.onConnect(),"error"==t.type&&"reconnect"==t.advice&&(this.open=!1),this.socket.onPacket(t),this)},n.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var t=this;this.closeTimeout=setTimeout(function(){t.onDisconnect()},this.socket.closeTimeout)}},n.prototype.onDisconnect=function(){return this.close&&this.open&&this.close(),this.clearTimeouts(),this.socket.onDisconnect(),this},n.prototype.onConnect=function(){return this.socket.onConnect(),this},n.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},n.prototype.clearTimeouts=function(){this.clearCloseTimeout(),this.reopenTimeout&&clearTimeout(this.reopenTimeout)},n.prototype.packet=function(t){this.send(e.parser.encodePacket(t))},n.prototype.onHeartbeat=function(){this.packet({type:"heartbeat"})},n.prototype.onOpen=function(){this.open=!0,this.clearCloseTimeout(),this.socket.onOpen()},n.prototype.onClose=function(){this.open=!1,this.socket.onClose(),this.onDisconnect()},n.prototype.prepareUrl=function(){var t=this.socket.options;return this.scheme()+"://"+t.host+":"+t.port+"/"+t.resource+"/"+e.protocol+"/"+this.name+"/"+this.sessid},n.prototype.ready=function(t,e){e.call(this)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(t,e,n){function o(t){if(this.options={port:80,secure:!1,document:"document"in n?document:!1,resource:"socket.io",transports:e.transports,"connect timeout":1e4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":1/0,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":!0,"auto connect":!0,"flash policy port":10843},e.util.merge(this.options,t),this.connected=!1,this.open=!1,this.connecting=!1,this.reconnecting=!1,this.namespaces={},this.buffer=[],this.doBuffer=!1,this.options["sync disconnect on unload"]&&(!this.isXDomain()||e.util.ua.hasCORS)){var o=this;e.util.on(n,"unload",function(){o.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function r(){}t.Socket=o,e.util.mixin(o,e.EventEmitter),o.prototype.of=function(t){return this.namespaces[t]||(this.namespaces[t]=new e.SocketNamespace(this,t),""!==t&&this.namespaces[t].packet({type:"connect"})),this.namespaces[t]},o.prototype.publish=function(){this.emit.apply(this,arguments);var t;for(var e in this.namespaces)this.namespaces.hasOwnProperty(e)&&(t=this.of(e),t.$emit.apply(t,arguments))},o.prototype.handshake=function(t){function n(e){e instanceof Error?o.onError(e.message):t.apply(null,e.split(":"))}var o=this,i=this.options,s=["http"+(i.secure?"s":"")+":/",i.host+":"+i.port,i.resource,e.protocol,e.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!e.util.ua.hasCORS){var c=document.getElementsByTagName("script")[0],a=document.createElement("script");a.src=s+"&jsonp="+e.j.length,c.parentNode.insertBefore(a,c),e.j.push(function(t){n(t),a.parentNode.removeChild(a)})}else{var p=e.util.request();p.open("GET",s,!0),p.withCredentials=!0,p.onreadystatechange=function(){4==p.readyState&&(p.onreadystatechange=r,200==p.status?n(p.responseText):!o.reconnecting&&o.onError(p.responseText))},p.send(null)}},o.prototype.getTransport=function(t){for(var n,o=t||this.transports,r=0;n=o[r];r++)if(e.Transport[n]&&e.Transport[n].check(this)&&(!this.isXDomain()||e.Transport[n].xdomainCheck()))return new e.Transport[n](this,this.sessionid);return null},o.prototype.connect=function(t){if(this.connecting)return this;var n=this;return this.handshake(function(o,r,i,s){function c(t){return n.transport&&n.transport.clearTimeouts(),n.transport=n.getTransport(t),n.transport?void n.transport.ready(n,function(){n.connecting=!0,n.publish("connecting",n.transport.name),n.transport.open(),n.options["connect timeout"]&&(n.connectTimeoutTimer=setTimeout(function(){if(!n.connected&&(n.connecting=!1,n.options["try multiple transports"])){n.remainingTransports||(n.remainingTransports=n.transports.slice(0));for(var t=n.remainingTransports;t.length>0&&t.splice(0,1)[0]!=n.transport.name;);t.length?c(t):n.publish("connect_failed")}},n.options["connect timeout"]))}):n.publish("connect_failed")}n.sessionid=o,n.closeTimeout=1e3*i,n.heartbeatTimeout=1e3*r,n.transports=s?e.util.intersect(s.split(","),n.options.transports):n.options.transports,n.setHeartbeatTimeout(),c(n.transports),n.once("connect",function(){clearTimeout(n.connectTimeoutTimer),t&&"function"==typeof t&&t()})}),this},o.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);var t=this;this.heartbeatTimeoutTimer=setTimeout(function(){t.transport.onClose()},this.heartbeatTimeout)},o.prototype.packet=function(t){return this.connected&&!this.doBuffer?this.transport.packet(t):this.buffer.push(t),this},o.prototype.setBuffer=function(t){this.doBuffer=t,!t&&this.connected&&this.buffer.length&&(this.transport.payload(this.buffer),this.buffer=[])},o.prototype.disconnect=function(){return(this.connected||this.connecting)&&(this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted")),this},o.prototype.disconnectSync=function(){var t=e.util.request(),n=this.resource+"/"+e.protocol+"/"+this.sessionid;t.open("GET",n,!0),this.onDisconnect("booted")},o.prototype.isXDomain=function(){var t=n.location.port||("https:"==n.location.protocol?443:80);return this.options.host!==n.location.hostname||this.options.port!=t},o.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))},o.prototype.onOpen=function(){this.open=!0},o.prototype.onClose=function(){this.open=!1,clearTimeout(this.heartbeatTimeoutTimer)},o.prototype.onPacket=function(t){this.of(t.endpoint).onPacket(t)},o.prototype.onError=function(t){t&&t.advice&&"reconnect"===t.advice&&(this.connected||this.connecting)&&(this.disconnect(),this.options.reconnect&&this.reconnect()),this.publish("error",t&&t.reason?t.reason:t)},o.prototype.onDisconnect=function(t){var e=this.connected,n=this.connecting;this.connected=!1,this.connecting=!1,this.open=!1,(e||n)&&(this.transport.close(),this.transport.clearTimeouts(),e&&(this.publish("disconnect",t),"booted"!=t&&this.options.reconnect&&!this.reconnecting&&this.reconnect()))},o.prototype.reconnect=function(){function t(){if(n.connected){for(var t in n.namespaces)n.namespaces.hasOwnProperty(t)&&""!==t&&n.namespaces[t].packet({type:"connect"});n.publish("reconnect",n.transport.name,n.reconnectionAttempts)}clearTimeout(n.reconnectionTimer),n.removeListener("connect_failed",e),n.removeListener("connect",e),n.reconnecting=!1,delete n.reconnectionAttempts,delete n.reconnectionDelay,delete n.reconnectionTimer,delete n.redoTransports,n.options["try multiple transports"]=r}function e(){return n.reconnecting?n.connected?t():n.connecting&&n.reconnecting?n.reconnectionTimer=setTimeout(e,1e3):void(n.reconnectionAttempts++>=o?n.redoTransports?(n.publish("reconnect_failed"),t()):(n.on("connect_failed",e),n.options["try multiple transports"]=!0,n.transport=n.getTransport(),n.redoTransports=!0,n.connect()):(n.reconnectionDelay<i&&(n.reconnectionDelay*=2),n.connect(),n.publish("reconnecting",n.reconnectionDelay,n.reconnectionAttempts),n.reconnectionTimer=setTimeout(e,n.reconnectionDelay))):void 0}this.reconnecting=!0,this.reconnectionAttempts=0,this.reconnectionDelay=this.options["reconnection delay"];var n=this,o=this.options["max reconnection attempts"],r=this.options["try multiple transports"],i=this.options["reconnection limit"];this.options["try multiple transports"]=!1,this.reconnectionTimer=setTimeout(e,this.reconnectionDelay),this.on("connect",e)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(t,e){function n(t,e){this.socket=t,this.name=e||"",this.flags={},this.json=new o(this,"json"),this.ackPackets=0,this.acks={}}function o(t,e){this.namespace=t,this.name=e}t.SocketNamespace=n,e.util.mixin(n,e.EventEmitter),n.prototype.$emit=e.EventEmitter.prototype.emit,n.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)},n.prototype.packet=function(t){return t.endpoint=this.name,this.socket.packet(t),this.flags={},this},n.prototype.send=function(t,e){var n={type:this.flags.json?"json":"message",data:t};return"function"==typeof e&&(n.id=++this.ackPackets,n.ack=!0,this.acks[n.id]=e),this.packet(n)},n.prototype.emit=function(t){var e=Array.prototype.slice.call(arguments,1),n=e[e.length-1],o={type:"event",name:t};return"function"==typeof n&&(o.id=++this.ackPackets,o.ack="data",this.acks[o.id]=n,e=e.slice(0,e.length-1)),o.args=e,this.packet(o)},n.prototype.disconnect=function(){return""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect")),this},n.prototype.onPacket=function(t){function n(){o.packet({type:"ack",args:e.util.toArray(arguments),ackId:t.id})}var o=this;switch(t.type){case"connect":this.$emit("connect");break;case"disconnect":""===this.name?this.socket.onDisconnect(t.reason||"booted"):this.$emit("disconnect",t.reason);break;case"message":case"json":var r=["message",t.data];"data"==t.ack?r.push(n):t.ack&&this.packet({type:"ack",ackId:t.id}),this.$emit.apply(this,r);break;case"event":var r=[t.name].concat(t.args);"data"==t.ack&&r.push(n),this.$emit.apply(this,r);break;case"ack":this.acks[t.ackId]&&(this.acks[t.ackId].apply(this,t.args),delete this.acks[t.ackId]);break;case"error":t.advice?this.socket.onError(t):"unauthorized"==t.reason?this.$emit("connect_failed",t.reason):this.$emit("error",t.reason)}},o.prototype.send=function(){this.namespace.flags[this.name]=!0,this.namespace.send.apply(this.namespace,arguments)},o.prototype.emit=function(){this.namespace.flags[this.name]=!0,this.namespace.emit.apply(this.namespace,arguments)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(t,e,n){function o(){e.Transport.apply(this,arguments)}t.websocket=o,e.util.inherit(o,e.Transport),o.prototype.name="websocket",o.prototype.open=function(){var t,o=e.util.query(this.socket.options.query),r=this;return t||(t=n.MozWebSocket||n.WebSocket),this.websocket=new t(this.prepareUrl()+o),this.websocket.onopen=function(){r.onOpen(),r.socket.setBuffer(!1)},this.websocket.onmessage=function(t){r.onData(t.data)},this.websocket.onclose=function(){r.onClose(),r.socket.setBuffer(!0)},this.websocket.onerror=function(t){r.onError(t)},this},o.prototype.send=function(t){return this.websocket.send(t),this},o.prototype.payload=function(t){for(var e=0,n=t.length;n>e;e++)this.packet(t[e]);return this},o.prototype.close=function(){return this.websocket.close(),this},o.prototype.onError=function(t){this.socket.onError(t)},o.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"},o.check=function(){return"WebSocket"in n&&!("__addTask"in WebSocket)||"MozWebSocket"in n},o.xdomainCheck=function(){return!0},e.transports.push("websocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(t,e,n){function o(t){t&&(e.Transport.apply(this,arguments),this.sendBuffer=[])}function r(){}t.XHR=o,e.util.inherit(o,e.Transport),o.prototype.open=function(){return this.socket.setBuffer(!1),this.onOpen(),this.get(),this.setCloseTimeout(),this},o.prototype.payload=function(t){for(var n=[],o=0,r=t.length;r>o;o++)n.push(e.parser.encodePacket(t[o]));this.send(e.parser.encodePayload(n))},o.prototype.send=function(t){return this.post(t),this},o.prototype.post=function(t){function e(){4==this.readyState&&(this.onreadystatechange=r,i.posting=!1,200==this.status?i.socket.setBuffer(!1):i.onClose())}function o(){this.onload=r,i.socket.setBuffer(!1)}var i=this;this.socket.setBuffer(!0),this.sendXHR=this.request("POST"),n.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=o:this.sendXHR.onreadystatechange=e,this.sendXHR.send(t)},o.prototype.close=function(){return this.onClose(),this},o.prototype.request=function(t){var n=e.util.request(this.socket.isXDomain()),o=e.util.query(this.socket.options.query,"t="+ +new Date);if(n.open(t||"GET",this.prepareUrl()+o,!0),"POST"==t)try{n.setRequestHeader?n.setRequestHeader("Content-type","text/plain;charset=UTF-8"):n.contentType="text/plain"}catch(r){}return n},o.prototype.scheme=function(){return this.socket.options.secure?"https":"http"},o.check=function(t,o){try{var r=e.util.request(o),i=n.XDomainRequest&&r instanceof XDomainRequest,s=t&&t.options&&t.options.secure?"https:":"http:",c=s!=n.location.protocol;if(r&&(!i||!c))return!0}catch(a){}return!1},o.xdomainCheck=function(){return o.check(null,!0)}}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(t,e){function n(){e.Transport.XHR.apply(this,arguments)}t.htmlfile=n,e.util.inherit(n,e.Transport.XHR),n.prototype.name="htmlfile",n.prototype.get=function(){this.doc=new(window[["Active"].concat("Object").join("X")])("htmlfile"),this.doc.open(),this.doc.write("<html></html>"),this.doc.close(),this.doc.parentWindow.s=this;var t=this.doc.createElement("div");t.className="socketio",this.doc.body.appendChild(t),this.iframe=this.doc.createElement("iframe"),t.appendChild(this.iframe);var n=this,o=e.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=this.prepareUrl()+o,e.util.on(window,"unload",function(){n.destroy()})},n.prototype._=function(t,e){this.onData(t);try{var n=e.getElementsByTagName("script")[0];n.parentNode.removeChild(n)}catch(o){}},n.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(t){}this.doc=null,this.iframe.parentNode.removeChild(this.iframe),this.iframe=null,CollectGarbage()}},n.prototype.close=function(){return this.destroy(),e.Transport.XHR.prototype.close.call(this)},n.check=function(){if("undefined"!=typeof window&&["Active"].concat("Object").join("X")in window)try{var t=new(window[["Active"].concat("Object").join("X")])("htmlfile");return t&&e.Transport.XHR.check()}catch(n){}return!1},n.xdomainCheck=function(){return!1},e.transports.push("htmlfile")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(t,e,n){function o(){e.Transport.XHR.apply(this,arguments)}function r(){}t["xhr-polling"]=o,e.util.inherit(o,e.Transport.XHR),e.util.merge(o,e.Transport.XHR),o.prototype.name="xhr-polling",o.prototype.open=function(){var t=this;return e.Transport.XHR.prototype.open.call(t),!1},o.prototype.get=function(){function t(){4==this.readyState&&(this.onreadystatechange=r,200==this.status?(i.onData(this.responseText),i.get()):i.onClose())}function e(){this.onload=r,this.onerror=r,i.onData(this.responseText),i.get()}function o(){i.onClose()}if(this.open){var i=this;this.xhr=this.request(),n.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=e,this.xhr.onerror=o):this.xhr.onreadystatechange=t,this.xhr.send(null)}},o.prototype.onClose=function(){if(e.Transport.XHR.prototype.onClose.call(this),this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=r;try{this.xhr.abort()}catch(t){}this.xhr=null}},o.prototype.ready=function(t,n){var o=this;e.util.defer(function(){n.call(o)})},e.transports.push("xhr-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(t,e,n){function o(){e.Transport["xhr-polling"].apply(this,arguments),this.index=e.j.length;var t=this;e.j.push(function(e){t._(e)})}var r=n.document&&"MozAppearance"in n.document.documentElement.style;t["jsonp-polling"]=o,e.util.inherit(o,e.Transport["xhr-polling"]),o.prototype.name="jsonp-polling",o.prototype.post=function(t){function n(){o(),r.socket.setBuffer(!1)}function o(){r.iframe&&r.form.removeChild(r.iframe);try{s=document.createElement('<iframe name="'+r.iframeId+'">')}catch(t){s=document.createElement("iframe"),s.name=r.iframeId}s.id=r.iframeId,r.form.appendChild(s),r.iframe=s}var r=this,i=e.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var s,c=document.createElement("form"),a=document.createElement("textarea"),p=this.iframeId="socketio_iframe_"+this.index;c.className="socketio",c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.display="none",c.target=p,c.method="POST",c.setAttribute("accept-charset","utf-8"),a.name="d",c.appendChild(a),document.body.appendChild(c),this.form=c,this.area=a}this.form.action=this.prepareUrl()+i,o(),this.area.value=e.JSON.stringify(t);try{this.form.submit()}catch(u){}this.iframe.attachEvent?s.onreadystatechange=function(){"complete"==r.iframe.readyState&&n()}:this.iframe.onload=n,this.socket.setBuffer(!0)},o.prototype.get=function(){var t=this,n=document.createElement("script"),o=e.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),n.async=!0,n.src=this.prepareUrl()+o,n.onerror=function(){t.onClose()};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i),this.script=n,r&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype._=function(t){return this.onData(t),this.open&&this.get(),this},o.prototype.ready=function(t,n){var o=this;return r?void e.util.load(function(){n.call(o)}):n.call(this)},o.check=function(){return"document"in n},o.xdomainCheck=function(){return!0},e.transports.push("jsonp-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(){function t(t){var e=t.getResponseHeader("Content-Type");if("application/json"!==e||!t.responseText)return t.responseText;try{return JSON.parse(t.responseText)}catch(n){return console.error('Failed to parse "'+t.responseText+'" as JSON',n),t.responseText}}function e(o,r){var i=n();if(!i)return Error("AJAX is somehow not supported");r.query&&(o+="?"+r.query);var s=r.data,c=r.method||"GET";if(i.open(c,o,!0),i.withCredentials=!0,s&&i.setRequestHeader("Content-type",r.contentType||"application/json"),"object"==typeof e.headers)for(var a in e.headers)e.headers.hasOwnProperty(a)&&i.setRequestHeader(a,e.headers[a]);i.onreadystatechange=function(){return 4==i.readyState?200!=i.status&&204!=i.status&&304!=i.status?void("function"==typeof r.error&&r.error(t(i))):void("function"==typeof r.success&&r.success(t(i))):void 0},4!=i.readyState&&i.send(s)}function n(){for(var t=!1,e=0;e<o.length;e++){try{t=o[e]()}catch(n){continue}break}return t}e.headers={};var o=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new XDomainRequest}];window._dpd||(window._dpd={}),window._dpd.ajax=e}(),function(){function t(t,e){if(Array.prototype.filter)return Array.prototype.filter.call(t,e);for(var n=[],o=0;o<t.length;o++)e(t[o])&&n.push(t[o]);return n}function e(){var e=Array.prototype.slice.call(arguments,0);return e=e.join("/").split("/"),"/"+t(e,function(t){return t&&"string"==typeof t}).join("/")}function n(t){if(t)for(var e in t)if(t.hasOwnProperty(e)&&"string"!=typeof t[e])return!0;return!1}function o(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function r(t){return n(t)?encodeURI(JSON.stringify(t)):t?o(t):void 0}function i(t){return function(e){return t===f?console.log(e):void("function"==typeof t&&t(e))}}function s(t){return function(e){return t===f?console.error(e):void("function"==typeof t&&t(null,e))}}function c(t){return"string"==typeof t||"number"==typeof t}function a(t){return t?t.toString():null}function p(t){var n={},o=0;return(c(t[o])||!t[o])&&(n.path=a(t[o]),o++),(c(t[o])||!t[o])&&(n.path=e(n.path,a(t[o])),o++),(t[o]!==f&&"object"==typeof t[o]||!t[o])&&(n.query=t[o],o++),("function"==typeof t[o]||t[o]===f)&&(n.fn=t[o]),n}function u(t){var e={},n=0;return(c(t[n])||!t[n])&&(e.path=a(t[n]),n++),(t[n]!==f&&"object"==typeof t[n]||!t[n])&&(e.body=t[n],n++),t[n]!==f&&"object"==typeof t[n]&&(e.query=e.body,e.body=t[n],n++),("function"==typeof t[n]||t[n]===f)&&(e.fn=t[n]),e}window._dpd||(window._dpd={});var d="http://s15944029.onlinehome-server.info:5000",f="undefined"!=typeof console&&console.log,h=io.connect(d),l="/",m={get:function(t,n){var o=r(t.query);return _dpd.ajax(d+e(l,t.path),{method:"GET",query:o,success:i(n),error:s(n)})},del:function(t,n){var o=r(t.query);return _dpd.ajax(d+e(l,t.path),{method:"DELETE",query:o,success:i(n),error:s(n)})},requestWithBody:function(t,n,o){var c=r(n.query);return c=c?"?"+c:"",_dpd.ajax(d+e(l,n.path)+c,{method:t,contentType:n.body&&"application/json",data:JSON.stringify(n.body||{})||"{}",success:i(o),error:s(o)})}};m.post=function(t,e){return m.requestWithBody("POST",t,e)},m.put=function(t,e){return m.requestWithBody("PUT",t,e)},window.dpd=function(t){var n={get:function(){var n=p(arguments);return n.path=e(t,n.path),m.get(n,n.fn)},post:function(){var n=u(arguments);return n.path=e(t,n.path),m.post(n,n.fn)},put:function(){var n=u(arguments);return n.path=e(t,n.path),m.put(n,n.fn)},del:function(){var n=p(arguments);return n.path=e(t,n.path),m.del(n,n.fn)}};return n.exec=function(n,o,r,i){var s={},a=0;return s.func=arguments[a],a++,c(arguments[a])&&(s.path=arguments[a],a++),"object"==typeof arguments[a]&&(s.body=arguments[a],a++),i=arguments[a],s.path=e(t,s.func,s.path),m.post(s,i)},n},window.dpd.on=function(){h.on.apply(h,arguments)},window.dpd.once=function(t,e){var n=function(){h.removeListener(t,n),e.apply(this,arguments)};h.on(t,n)},window.dpd.off=function(t,e){null==e?h.removeAllListeners(t):h.removeListener(t,e)
};var y=!1;window.dpd.once("connect",function(){y=!0}),window.dpd.socketReady=function(t){y?setTimeout(t,0):window.dpd.once("connect",t)},window.dpd.socket=h}(),dpd.appoptions=dpd("/appoptions"),dpd.appoptions.on=function(t,e){return dpd.on("appoptions:"+t,e)},dpd.appoptions.once=function(t,e){return dpd.once("appoptions:"+t,e)},dpd.appoptions.off=function(t,e){return dpd.off("appoptions:"+t,e)},dpd.appoptions.rename=function(t,e,n){dpd.appoptions.exec("rename",t,e,n)},dpd.cardpages=dpd("/cardpages"),dpd.cardpages.on=function(t,e){return dpd.on("cardpages:"+t,e)},dpd.cardpages.once=function(t,e){return dpd.once("cardpages:"+t,e)},dpd.cardpages.off=function(t,e){return dpd.off("cardpages:"+t,e)},dpd.cardpages.rename=function(t,e,n){dpd.cardpages.exec("rename",t,e,n)},dpd.cards=dpd("/cards"),dpd.cards.on=function(t,e){return dpd.on("cards:"+t,e)},dpd.cards.once=function(t,e){return dpd.once("cards:"+t,e)},dpd.cards.off=function(t,e){return dpd.off("cards:"+t,e)},dpd.cards.rename=function(t,e,n){dpd.cards.exec("rename",t,e,n)},dpd.config=dpd("/config"),dpd.config.on=function(t,e){return dpd.on("config:"+t,e)},dpd.config.once=function(t,e){return dpd.once("config:"+t,e)},dpd.config.off=function(t,e){return dpd.off("config:"+t,e)},dpd.config.rename=function(t,e,n){dpd.config.exec("rename",t,e,n)},dpd.interests=dpd("/interests"),dpd.interests.on=function(t,e){return dpd.on("interests:"+t,e)},dpd.interests.once=function(t,e){return dpd.once("interests:"+t,e)},dpd.interests.off=function(t,e){return dpd.off("interests:"+t,e)},dpd.interests.rename=function(t,e,n){dpd.interests.exec("rename",t,e,n)},dpd.likes=dpd("/likes"),dpd.likes.on=function(t,e){return dpd.on("likes:"+t,e)},dpd.likes.once=function(t,e){return dpd.once("likes:"+t,e)},dpd.likes.off=function(t,e){return dpd.off("likes:"+t,e)},dpd.likes.rename=function(t,e,n){dpd.likes.exec("rename",t,e,n)},dpd.messages=dpd("/messages"),dpd.messages.on=function(t,e){return dpd.on("messages:"+t,e)},dpd.messages.once=function(t,e){return dpd.once("messages:"+t,e)},dpd.messages.off=function(t,e){return dpd.off("messages:"+t,e)},dpd.messages.rename=function(t,e,n){dpd.messages.exec("rename",t,e,n)},dpd.modules=dpd("/modules"),dpd.modules.on=function(t,e){return dpd.on("modules:"+t,e)},dpd.modules.once=function(t,e){return dpd.once("modules:"+t,e)},dpd.modules.off=function(t,e){return dpd.off("modules:"+t,e)},dpd.modules.rename=function(t,e,n){dpd.modules.exec("rename",t,e,n)},dpd.msgs=dpd("/msgs"),dpd.msgs.on=function(t,e){return dpd.on("msgs:"+t,e)},dpd.msgs.once=function(t,e){return dpd.once("msgs:"+t,e)},dpd.msgs.off=function(t,e){return dpd.off("msgs:"+t,e)},dpd.msgs.rename=function(t,e,n){dpd.msgs.exec("rename",t,e,n)},dpd.orders=dpd("/orders"),dpd.orders.on=function(t,e){return dpd.on("orders:"+t,e)},dpd.orders.once=function(t,e){return dpd.once("orders:"+t,e)},dpd.orders.off=function(t,e){return dpd.off("orders:"+t,e)},dpd.orders.rename=function(t,e,n){dpd.orders.exec("rename",t,e,n)},dpd.planer=dpd("/planer"),dpd.planer.on=function(t,e){return dpd.on("planer:"+t,e)},dpd.planer.once=function(t,e){return dpd.once("planer:"+t,e)},dpd.planer.off=function(t,e){return dpd.off("planer:"+t,e)},dpd.planer.rename=function(t,e,n){dpd.planer.exec("rename",t,e,n)},dpd.plangdict=dpd("/plang-dict"),dpd.plangdict.on=function(t,e){return dpd.on("plang-dict:"+t,e)},dpd.plangdict.once=function(t,e){return dpd.once("plang-dict:"+t,e)},dpd.plangdict.off=function(t,e){return dpd.off("plang-dict:"+t,e)},dpd.plangdict.rename=function(t,e,n){dpd.plangdict.exec("rename",t,e,n)},dpd.sidemenu=dpd("/sidemenu"),dpd.sidemenu.on=function(t,e){return dpd.on("sidemenu:"+t,e)},dpd.sidemenu.once=function(t,e){return dpd.once("sidemenu:"+t,e)},dpd.sidemenu.off=function(t,e){return dpd.off("sidemenu:"+t,e)},dpd.sidemenu.rename=function(t,e,n){dpd.sidemenu.exec("rename",t,e,n)},dpd.usergroups=dpd("/usergroups"),dpd.usergroups.on=function(t,e){return dpd.on("usergroups:"+t,e)},dpd.usergroups.once=function(t,e){return dpd.once("usergroups:"+t,e)},dpd.usergroups.off=function(t,e){return dpd.off("usergroups:"+t,e)},dpd.usergroups.rename=function(t,e,n){dpd.usergroups.exec("rename",t,e,n)},dpd.users=dpd("/users"),dpd.users.login=function(t,e,n){return dpd.users.exec("login",t,e,n)},dpd.users.logout=function(t,e,n){return dpd.users.exec("logout",t,e,n)},dpd.users.me=function(t,e,n){return dpd.users.get("me",t,e,n)},dpd.users.on=function(t,e){return dpd.on("users:"+t,e)},dpd.users.once=function(t,e){return dpd.once("users:"+t,e)},dpd.users.off=function(t,e){return dpd.off("users:"+t,e)},dpd.videos=dpd("/videos"),dpd.videos.on=function(t,e){return dpd.on("videos:"+t,e)},dpd.videos.once=function(t,e){return dpd.once("videos:"+t,e)},dpd.videos.off=function(t,e){return dpd.off("videos:"+t,e)},dpd.videos.rename=function(t,e,n){dpd.videos.exec("rename",t,e,n)};